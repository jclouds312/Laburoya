(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{18186:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},20316:(e,a,s)=>{Promise.resolve().then(s.bind(s,32607))},26126:(e,a,s)=>{"use strict";s.d(a,{E:()=>n});var t=s(95155);s(12115);var r=s(74466),l=s(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(i({variant:s}),a),...r})}},31554:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},32607:(e,a,s)=>{"use strict";s.d(a,{JobDetailClient:()=>H});var t=s(95155),r=s(12115),l=s(92262),i=s(66695),n=s(26126),c=s(12543),o=s(74601),d=s(50594),u=s(57082),p=s(83662),m=s(37648),x=s(50286),f=s(18186),h=s(88390),g=s(51920),y=s(57804),v=s(53054),b=s(50172),j=s(73672),N=s(31554),w=s(30462),A=s(61840),k=s(66766),C=s(30285),S=s(6874),M=s.n(S),R=s(22346),P=s(36996),E=s(87481),I=s(59434),D=s(61677),q=s(99188),U=s(54165),F=s(85057),L=s(88539),z=s(35695);function H(e){let{job:a}=e,{toast:s}=(0,E.dj)(),S=(0,z.useRouter)(),{session:H}=(0,D.w)(),{handleApplyForJob:J,savedJobs:T,handleSaveJob:O,applications:Z}=(0,r.useContext)(q.M),[_,B]=(0,r.useState)(a),[G,$]=r.useState(!1),[Q,V]=(0,r.useState)(!1),[W,Y]=(0,r.useState)({});(0,r.useEffect)(()=>{B(a)},[a]);let K=T.some(e=>e.id===_.id),X=Z.some(e=>e.jobId===_.id),ee=async e=>{$(!0),Q&&V(!1);try{await fetch("/api/send-application-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobTitle:_.title,companyName:_.company,companyEmail:"hr@example.com",userName:H.user.name,userEmail:H.user.email})}),J(_,e),B(e=>({...e,applicantsCount:(e.applicantsCount||0)+1})),s({title:"\xa1Postulaci\xf3n Enviada!",description:"Te has postulado exitosamente a la oferta de ".concat(_.title,".")})}catch(e){console.error(e),s({title:"Error",description:"No se pudo completar la postulaci\xf3n. Intenta de nuevo.",variant:"destructive"})}finally{$(!1)}},ea=()=>_.isFeatured?"theme-premium":"",es="https://maps.google.com/maps?q=".concat(encodeURIComponent(_.direccionCompleta||_.location+", Argentina"),"&t=&z=13&ie=UTF8&iwloc=&output=embed"),et="https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(_.direccionCompleta||_.location+", Argentina")),er=Array.isArray(_.skills)?_.skills:[],el=Array.isArray(_.customQuestions)?_.customQuestions:[];return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-transparent",children:[(0,t.jsx)(l.Header,{}),(0,t.jsxs)("main",{className:"flex-1 container mx-auto py-8 px-4",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(C.$,{variant:"outline",onClick:()=>S.back(),className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),"Volver"]})}),(0,t.jsx)(i.Zp,{className:(0,I.cn)("overflow-hidden mb-8",ea()),children:(0,t.jsxs)("div",{className:"relative aspect-[2.5/1] w-full bg-secondary",children:[(0,t.jsx)(k.default,{src:_.imageUrl||"https://placehold.co/800x320.png",alt:_.title,layout:"fill",objectFit:"cover","data-ai-hint":"job vacancy"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 z-10 flex flex-col items-end gap-2",children:[_.isFeatured&&(0,t.jsxs)(n.E,{variant:"default",className:"bg-amber-400 text-amber-900 text-xs font-bold py-1 px-3 rounded-full flex items-center gap-1 border-2 border-amber-900/20",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"DESTACADO"]}),_.isNew&&!_.isFeatured&&(0,t.jsxs)(n.E,{variant:"outline",className:"text-xs font-bold py-1 px-3 rounded-full flex items-center gap-1 border-sky-400 bg-sky-500/10 text-sky-400",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"NUEVO"]})]}),(0,t.jsxs)("div",{className:"absolute bottom-6 left-6 text-white",children:[(0,t.jsx)(i.ZB,{className:"text-3xl lg:text-4xl mb-1 drop-shadow-lg",children:_.title}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-white/90",children:[(0,t.jsxs)(M(),{href:"/company/".concat(_.companyProfileId),className:"flex items-center gap-1.5 hover:text-primary transition-colors",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"})," ",_.company]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"})," ",_.location]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"})," ",(0,t.jsx)("span",{className:"capitalize",children:_.type})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(i.Zp,{className:(0,I.cn)("relative overflow-hidden",ea()),children:(0,t.jsxs)(i.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 text-sm mb-6",children:[_.modalidad&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-secondary/50 rounded-lg",children:["H\xedbrido"===_.modalidad?(0,t.jsx)(x.A,{className:"h-5 w-5 text-muted-foreground"}):(0,t.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Modalidad"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:_.modalidad})]})]}),_.salary&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-secondary/50 rounded-lg",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Salario"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:_.salary})]})]}),_.horario&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-secondary/50 rounded-lg",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Horario"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:_.horario})]})]})]}),(0,t.jsx)(R.w,{className:"my-4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("h3",{className:(0,I.cn)("text-lg font-semibold",_.isFeatured?"text-primary":"text-card-foreground"),children:"Descripci\xf3n del trabajo"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground p-2 rounded-lg bg-secondary/50",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[_.applicantsCount," postulante",1!==_.applicantsCount&&"s"]})]})]}),(0,t.jsx)("p",{className:"text-card-foreground whitespace-pre-wrap",children:_.description}),_.desiredProfile&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.w,{className:"my-4"}),(0,t.jsxs)("h3",{className:(0,I.cn)("text-lg font-semibold mb-2 flex items-center gap-2",_.isFeatured?"text-primary":"text-card-foreground"),children:[(0,t.jsx)(y.A,{className:"h-5 w-5"}),"Perfil Deseado"]}),(0,t.jsx)("p",{className:"text-card-foreground whitespace-pre-wrap",children:_.desiredProfile})]}),er.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.w,{className:"my-4"}),(0,t.jsx)("h3",{className:(0,I.cn)("text-lg font-semibold mb-2",_.isFeatured?"text-primary":"text-card-foreground"),children:"Habilidades Requeridas"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:er.map(e=>(0,t.jsxs)(n.E,{variant:"secondary",className:"flex items-center gap-1.5",children:[(0,t.jsx)(v.A,{className:"h-3 w-3"}),e]},e))})]})]})})}),(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Acciones"})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)(C.$,{size:"lg",className:"w-full",onClick:()=>{if(!H.isLoggedIn||!H.user)return void s({title:"Inicia Sesi\xf3n",description:"Debes iniciar sesi\xf3n para postularte a una oferta.",variant:"destructive"});(Array.isArray(_.customQuestions)?_.customQuestions:[]).length>0?V(!0):ee()},disabled:G||X,children:[G?(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),X?"Ya Postulaste":"Postularse ahora"]}),_.whatsapp&&(0,t.jsx)(C.$,{asChild:!0,size:"lg",variant:"outline",className:"w-full bg-green-500/10 border-green-500/30 hover:bg-green-500/20 text-green-400 hover:text-green-300",children:(0,t.jsxs)("a",{href:"https://wa.me/".concat(_.whatsapp.replace(/\D/g,"")),target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Contactar por WhatsApp"]})}),(0,t.jsxs)(C.$,{size:"lg",variant:"secondary",className:"w-full",onClick:e=>{if(e.preventDefault(),e.stopPropagation(),!H.isLoggedIn)return void s({title:"Inicia Sesi\xf3n",description:"Debes iniciar sesi\xf3n para guardar una oferta.",variant:"destructive"});O(_),s({title:K?"Oferta quitada de guardados":"\xa1Oferta Guardada!",description:K?"Has quitado la oferta de ".concat(_.title,"."):"Has guardado la oferta de ".concat(_.title,".")})},children:[(0,t.jsx)(w.A,{className:(0,I.cn)("mr-2 h-4 w-4 text-amber-400 transition-all",K&&"fill-amber-400")}),K?"Guardado":"Guardar oferta"]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Ubicaci\xf3n"}),_.direccionCompleta&&(0,t.jsx)(i.BT,{children:_.direccionCompleta})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"aspect-video w-full overflow-hidden rounded-lg border",children:(0,t.jsx)("iframe",{width:"100%",height:"100%",loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:es,title:"Mapa de ".concat(_.location),style:{border:0}})}),(0,t.jsx)(C.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)("a",{href:et,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Abrir en Google Maps"]})})]})]})]})]})]}),(0,t.jsx)(P.Footer,{}),(0,t.jsx)(U.lG,{open:Q,onOpenChange:V,children:(0,t.jsxs)(U.Cf,{children:[(0,t.jsxs)(U.c7,{children:[(0,t.jsx)(U.L3,{children:"Preguntas Adicionales"}),(0,t.jsx)(U.rr,{children:"La empresa solicita que respondas a las siguientes preguntas para completar tu postulaci\xf3n."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto pr-4",children:el.map((e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(F.J,{htmlFor:"question-".concat(a),children:e}),(0,t.jsx)(L.T,{id:"question-".concat(a),value:W[e]||"",onChange:a=>Y(s=>({...s,[e]:a.target.value})),required:!0})]},a))}),(0,t.jsxs)(U.Es,{children:[(0,t.jsx)(C.$,{variant:"outline",onClick:()=>V(!1),children:"Cancelar"}),(0,t.jsxs)(C.$,{onClick:()=>{ee((Array.isArray(_.customQuestions)?_.customQuestions:[]).map(e=>({question:e,answer:W[e]||"No respondida"})))},disabled:G,children:[G?(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Enviar Postulaci\xf3n"]})]})]})})]})}},37648:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},40968:(e,a,s)=>{"use strict";s.d(a,{b:()=>n});var t=s(12115),r=s(63540),l=s(95155),i=t.forwardRef((e,a)=>(0,l.jsx)(r.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},50286:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},50594:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},51920:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},53054:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},54165:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>u,Es:()=>m,L3:()=>x,c7:()=>p,lG:()=>c,rr:()=>f});var t=s(95155),r=s(12115),l=s(45821),i=s(25318),n=s(59434);let c=l.bL;l.l9;let o=l.ZL;l.bm;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});d.displayName=l.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};p.displayName="DialogHeader";let m=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};m.displayName="DialogFooter";let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=l.hE.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=l.VY.displayName},57804:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},61840:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},73672:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},83662:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},85057:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var t=s(95155),r=s(12115),l=s(40968),i=s(74466),n=s(59434);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,n.cn)(c(),s),...r})});o.displayName=l.b.displayName},85782:(e,a,s)=>{"use strict";s.d(a,{T:()=>r});var t=s(34477);let r=(0,t.createServerReference)("603301916ca1031634c79711fefcd52f4ca385c920",t.callServer,void 0,t.findSourceMapURL,"updateUser")},88390:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},88539:(e,a,s)=>{"use strict";s.d(a,{T:()=>i});var t=s(95155),r=s(12115),l=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});i.displayName="Textarea"},99188:(e,a,s)=>{"use strict";s.d(a,{M:()=>p,o:()=>m});var t=s(95155),r=s(12115),l=s(61677),i=s(34477);let n=(0,i.createServerReference)("4056f7b8ce25ab41c256e4297c785ce32b486f54d6",i.callServer,void 0,i.findSourceMapURL,"getUserById");var c=s(85782);let o=(0,i.createServerReference)("404cea0460b7222e73e2c9faf3a550886a2074e1d3",i.callServer,void 0,i.findSourceMapURL,"getApplicationsByUserId"),d=(0,i.createServerReference)("402908ca951243cf828f191b1709c1a7f71fb56cc5",i.callServer,void 0,i.findSourceMapURL,"createApplication"),u=(0,i.createServerReference)("408c8a95a7fd45225172ff2ade2b52568d20453c25",i.callServer,void 0,i.findSourceMapURL,"getJobById"),p=(0,r.createContext)({profileData:null,setProfileData:()=>{},savedJobs:[],handleSaveJob:()=>{},handleApplyForJob:()=>{},applications:[],hasActiveSubscription:!1,activePlan:null,subscriptionEndDate:null}),m=e=>{let{children:a}=e,{session:s}=(0,l.w)(),[i,m]=(0,r.useState)(null),[x,f]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[b,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(s.isLoggedIn&&s.user)try{let e=await n(s.user.id);if(e){m(e);let a=(e.savedJobIds||[]).map(e=>u(e)),t=(await Promise.all(a)).filter(e=>null!==e);f(t);let r=await o(s.user.id);if(g(r),e.subscriptionPlan&&e.subscriptionUntil){let a=new Date(e.subscriptionUntil);a>new Date?(v(!0),j(e.subscriptionPlan),w(a.toLocaleDateString("es-AR",{year:"numeric",month:"long",day:"numeric"}))):(v(!1),j(null),w(null))}else v(!1),j(null),w(null)}}catch(e){console.error("Failed to fetch user profile",e),m(null),f([]),g([])}else m(null),f([]),g([]),v(!1),j(null),w(null)})()},[s.isLoggedIn,s.user]);let A=(0,r.useCallback)(async e=>{if(!i)return;let a=Array.isArray(i.savedJobIds)?i.savedJobIds:[],s=a.includes(e.id)?a.filter(a=>a!==e.id):[...a,e.id],t=await (0,c.T)(i.id,{savedJobIds:s});if(t){m(t);let e=s.map(e=>u(e));f((await Promise.all(e)).filter(e=>null!==e))}},[i]),k=(0,r.useCallback)(async(e,a)=>{if(i&&!h.some(a=>a.jobId===e.id))try{let s=await d({userId:i.id,jobId:e.id,customAnswers:a||[]});s&&g(e=>[...e,s])}catch(e){console.error("Failed to create application",e)}},[i,h]);return(0,t.jsx)(p.Provider,{value:{profileData:i,setProfileData:m,savedJobs:x,handleSaveJob:A,handleApplyForJob:k,applications:h,hasActiveSubscription:y,activePlan:b,subscriptionEndDate:N},children:a})}}},e=>{var a=a=>e(e.s=a);e.O(0,[338,925,869,342,639,781,441,684,358],()=>a(20316)),_N_E=e.O()}]);