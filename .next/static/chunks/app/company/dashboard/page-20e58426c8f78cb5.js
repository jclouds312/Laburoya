(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{11645:(e,s,a)=>{"use strict";a.d(s,{CompanyDashboard:()=>X});var r=a(95155),i=a(12115),n=a(66695),l=a(30285),t=a(85127),c=a(30462),d=a(74601),o=a(50172),m=a(6160),x=a(54913),u=a(18271),h=a(34301),p=a(18763),j=a(77223),f=a(93576),g=a(17607),b=a(94063),v=a(26126),N=a(6874),y=a.n(N),w=a(61677),A=a(26198),P=a(91394),S=a(22346),C=a(85057),k=a(62523),E=a(88262),I=a(90010),R=a(66766),F=a(54165),M=a(50594),$=a(57082),D=a(67270),T=a(6523);function B(e){let{isOpen:s,setIsOpen:a,candidate:i,onContact:n}=e;return i?(0,r.jsx)(F.lG,{open:s,onOpenChange:a,children:(0,r.jsxs)(F.Cf,{className:"sm:max-w-lg",children:[(0,r.jsx)(F.c7,{children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)(P.eu,{className:"w-16 h-16 border-2 border-primary",children:[(0,r.jsx)(P.BK,{src:i.avatar,"data-ai-hint":"person user"}),(0,r.jsx)(P.q5,{children:i.name.charAt(0)})]}),(0,r.jsxs)("div",{className:"pt-1",children:[(0,r.jsx)(F.L3,{className:"text-2xl",children:i.name}),(0,r.jsx)(F.rr,{children:i.email}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)(v.E,{variant:"outline",children:["Aplic\xf3 a: ",i.appliedFor]})})]})]})}),(0,r.jsx)(S.w,{}),(0,r.jsxs)("div",{className:"py-4 grid gap-4 max-h-[50vh] overflow-y-auto pr-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,r.jsx)(M.A,{className:"h-4 w-4"})," Resumen Profesional"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:i.professionalSummary||"No se ha proporcionado un resumen profesional."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,r.jsx)($.A,{className:"h-4 w-4"})," Experiencia Laboral"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:i.experience||"No se ha proporcionado experiencia laboral."})]}),i.customAnswers&&i.customAnswers.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,r.jsx)(D.A,{className:"h-4 w-4"})," Respuestas del Candidato"]}),(0,r.jsx)("div",{className:"space-y-3",children:i.customAnswers.map((e,s)=>(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("p",{className:"font-medium text-foreground",children:e.question}),(0,r.jsx)("p",{className:"text-muted-foreground pl-2 border-l-2 ml-2 mt-1",children:e.answer})]},s))})]})]}),(0,r.jsx)(S.w,{}),(0,r.jsxs)(F.Es,{className:"sm:justify-between w-full",children:[(0,r.jsx)(l.$,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cerrar"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.$,{type:"button",variant:"outline",children:[(0,r.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Descargar CV"]}),(0,r.jsxs)(l.$,{type:"button",onClick:n,children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Contactar"]})]})]})]})}):null}var q=a(80433),O=a(97908),z=a(85954),U=a(91887),Z=a(44342),_=a(10453),J=a(59434),L=a(99188);let V=A.q_.filter(e=>"user"===e.role&&["trabajador@test.com","ana.garcia@example.com"].includes(e.email)).map((e,s)=>({...e,id:e.id,appliedFor:0===s?"Frontend Developer (React)":"Dise\xf1ador/a UX/UI Sr.",customAnswers:0===s?[{question:"\xbfCu\xe1l es tu experiencia con Next.js App Router?",answer:"Tengo m\xe1s de 1 a\xf1o de experiencia trabajando con el App Router en proyectos profesionales."},{question:"Describe un proyecto complejo en el que hayas trabajado.",answer:"Desarroll\xe9 una plataforma de e-commerce con un dashboard de anal\xedticas en tiempo real."}]:[{question:"Por favor, comparte un enlace a tu portafolio.",answer:"Claro, mi portafolio est\xe1 en mi.sitio.com/portfolio"},{question:"\xbfCu\xe1l es tu proceso de dise\xf1o habitual?",answer:"Comienzo con investigaci\xf3n de usuario, luego wireframing, prototipado en Figma y finalmente pruebas de usabilidad."}]}));function W(e){let{job:s,onFeatured:a}=e,{toast:n}=(0,E.dj)(),[t,x]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[p,j]=(0,i.useState)(!1),f=async()=>{x(!0);try{let e=localStorage.getItem("mp_access_token");if(!e)throw Error("El Access Token de Mercado Pago no est\xe1 configurado por el administrador.");let r=await fetch("/api/mercadopago/create-preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Destacar: ".concat(s.title),unit_price:500,accessToken:e})});if(!r.ok){let e=await r.json();throw Error(e.error||"No se pudo crear la preferencia de pago.")}let i=await r.json();console.log("Preferencia de pago creada:",i.id),n({title:"Redirigiendo a Mercado Pago...",description:"ID de Preferencia: ".concat(i.id,". En una app real, ser\xedas redirigido.")}),setTimeout(async()=>{await (0,O.l)(s.id,{isFeatured:!0}),a(s.id),x(!1),h(!0)},2e3)}catch(e){console.error(e),n({title:"Error al procesar el pago",description:e instanceof Error?e.message:"Error desconocido",variant:"destructive"}),x(!1)}};return(0,r.jsxs)(I.Lt,{open:p,onOpenChange:e=>{j(e),e||h(!1)},children:[(0,r.jsx)(I.tv,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"outline",size:"icon",disabled:s.isFeatured,children:(0,r.jsx)(c.A,{className:(0,J.cn)("h-4 w-4",s.isFeatured?"text-amber-400 fill-amber-400":"text-amber-400")})})}),(0,r.jsxs)(I.EO,{children:[(0,r.jsx)(I.wd,{children:u?(0,r.jsxs)("div",{className:"text-center py-4",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 text-green-500 mx-auto mb-2"}),(0,r.jsx)(I.r7,{children:"\xa1Publicaci\xf3n Destacada!"}),(0,r.jsx)(I.$v,{children:"Tu oferta ahora tiene m\xe1xima visibilidad."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.r7,{children:"Destacar Publicaci\xf3n"}),(0,r.jsxs)(I.$v,{children:["Est\xe1s a punto de pagar ",(0,r.jsx)("span",{className:"font-bold text-foreground",children:"ARS $500.00"})," para destacar esta publicaci\xf3n. Aparecer\xe1 en la p\xe1gina principal y en la parte superior de los resultados de b\xfasqueda."]})]})}),(0,r.jsx)(I.ck,{children:u?(0,r.jsx)(I.Zr,{children:"Cerrar"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Zr,{disabled:t,children:"Cancelar"}),(0,r.jsx)(l.$,{onClick:f,disabled:t,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"})," Procesando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Pagar ahora"]})})]})})]})]})}function X(){let{session:e}=(0,w.w)(),{hasActiveSubscription:s,activePlan:a,subscriptionEndDate:m}=i.useContext(L.M),{toast:N}=(0,E.dj)(),[A,I]=i.useState(!1),[F,M]=i.useState(!1),[$,D]=i.useState(!1),[T,X]=i.useState(null),[G,H]=i.useState(!1),[K,Q]=i.useState(!1),[Y,ee]=(0,i.useState)([]),[es,ea]=(0,i.useState)(!1),[er,ei]=(0,i.useState)(null),en=async()=>{var s;(null==(s=e.user)?void 0:s.companyProfileId)&&ee((await (0,z.S)()).filter(s=>{var a;return s.companyProfileId===(null==(a=e.user)?void 0:a.companyProfileId)}))};(0,i.useEffect)(()=>{e.isMounted&&en()},[e.isMounted,e.user]);let el=e=>{X(e),H(!0)},et=()=>{H(!1),Q(!0)},ec=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ei(e),ea(!0)},ed=async s=>{var a;if(!(null==(a=e.user)?void 0:a.companyProfileId))return void N({title:"Error",description:"No se encontr\xf3 el perfil de la empresa.",variant:"destructive"});let r={...s,companyProfileId:e.user.companyProfileId,company:e.user.name};er?(await (0,O.l)(er.id,r),N({title:"Publicaci\xf3n actualizada"})):(await (0,U._)(r),N({title:"Publicaci\xf3n creada"})),en()},eo=async e=>{await (0,Z.X)(e),N({title:"Publicaci\xf3n Eliminada",variant:"destructive"}),en()},em=e=>{ee(s=>s.map(s=>s.id===e?{...s,isFeatured:!0}:s))};return e.isMounted?e.user&&"company"===e.user.role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.X,{isOpen:K,setIsOpen:Q}),(0,r.jsx)(B,{isOpen:G,setIsOpen:H,candidate:T,onContact:et}),(0,r.jsx)(_.z,{isOpen:es,setIsOpen:ea,job:er,onSave:ed}),(0,r.jsxs)("div",{className:"company-dashboard-theme max-w-7xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Panel de Empresa"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Gestiona tus publicaciones, candidatos y suscripciones."})]}),s?(0,r.jsxs)(n.Zp,{className:"theme-premium text-center p-6 rounded-lg shadow-lg",children:[(0,r.jsx)(n.aR,{className:"p-0 mb-2",children:(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 text-amber-300",children:[(0,r.jsx)(x.A,{className:"h-6 w-6"}),(0,r.jsx)(n.ZB,{className:"text-2xl text-white",children:"Miembro Premium"})]})}),(0,r.jsxs)(n.Wu,{className:"p-0",children:[(0,r.jsxs)("p",{className:"text-lg font-semibold text-white",children:["Plan Actual: ",a]}),m&&(0,r.jsxs)("p",{className:"text-sm text-amber-100/80 mt-1",children:["Vence el: ",m]}),(0,r.jsx)(l.$,{asChild:!0,variant:"link",className:"text-amber-200 hover:text-white mt-1",children:(0,r.jsxs)(y(),{href:"/subscriptions",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Administrar mi suscripci\xf3n"]})})]})]}):(0,r.jsxs)(n.Zp,{className:"bg-gradient-to-r from-primary/80 to-primary/60 text-primary-foreground text-center p-6 rounded-lg shadow-lg",children:[(0,r.jsxs)(n.aR,{className:"p-0 mb-2",children:[(0,r.jsx)(n.ZB,{children:"\xa1Potencia tu Empresa!"}),(0,r.jsx)(n.BT,{className:"text-primary-foreground/80",children:"Publica m\xe1s ofertas y accede a herramientas avanzadas con nuestros planes premium."})]}),(0,r.jsx)(n.Wu,{className:"p-0",children:(0,r.jsx)(l.$,{asChild:!0,className:"bg-primary-foreground text-primary hover:bg-primary-foreground/90",children:(0,r.jsxs)(y(),{href:"/subscriptions",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Ver Planes Premium"]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{children:"Mis Publicaciones de Trabajo"}),(0,r.jsx)(n.BT,{children:"Aqu\xed puedes ver y gestionar todas tus ofertas de empleo."})]}),(0,r.jsxs)(l.$,{size:"sm",className:"gap-1",onClick:()=>ec(),children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Nueva Publicaci\xf3n"})]})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)(t.XI,{children:[(0,r.jsx)(t.A0,{children:(0,r.jsxs)(t.Hj,{children:[(0,r.jsx)(t.nd,{className:"w-[80px]",children:"Imagen"}),(0,r.jsx)(t.nd,{children:"T\xedtulo"}),(0,r.jsx)(t.nd,{children:"Estado"}),(0,r.jsx)(t.nd,{children:"Candidatos"}),(0,r.jsx)(t.nd,{className:"text-right",children:"Acciones"})]})}),(0,r.jsx)(t.BF,{children:Y.length>0?Y.map(e=>(0,r.jsxs)(t.Hj,{children:[(0,r.jsx)(t.nA,{children:(0,r.jsx)(R.default,{src:e.imageUrl||"https://placehold.co/100x100.png",alt:e.title,width:64,height:64,className:"rounded-md object-cover aspect-square","data-ai-hint":"job vacancy"})}),(0,r.jsxs)(t.nA,{className:"font-medium",children:[(0,r.jsx)(y(),{href:"/jobs/".concat(e.id),className:"hover:underline",children:e.title}),e.isFeatured&&(0,r.jsx)(v.E,{className:"ml-2 bg-amber-400 text-amber-900",children:"Destacado"})]}),(0,r.jsx)(t.nA,{children:(0,r.jsx)(v.E,{children:"Activa"})}),(0,r.jsx)(t.nA,{children:(0,r.jsx)(v.E,{variant:"secondary",children:"3"})}),(0,r.jsx)(t.nA,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsx)(W,{job:e,onFeatured:em}),(0,r.jsx)(l.$,{variant:"outline",size:"icon",onClick:()=>ec(e),children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),(0,r.jsx)(l.$,{variant:"destructive",size:"icon",onClick:()=>eo(e.id),children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})]})})]},e.id)):(0,r.jsx)(t.Hj,{children:(0,r.jsx)(t.nA,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No tienes ninguna publicaci\xf3n de trabajo activa."})})})]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Suscripci\xf3n y Pagos"}),(0,r.jsx)(n.BT,{children:"Gestiona tu plan y m\xe9todo de pago."})]}),(0,r.jsxs)(n.Wu,{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg bg-secondary/30",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Mi Plan Actual"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-foreground",children:a||"Plan B\xe1sico"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:m?"Vence el: ".concat(m):"Suscripci\xf3n inactiva"})]}),(0,r.jsx)(v.E,{variant:"default",className:(0,J.cn)(s?"bg-green-500/80":"bg-muted-foreground"),children:s?"Activo":"Inactivo"})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:s?"Tu plan te permite publicar m\xe1s ofertas y acceder a funciones avanzadas.":"Mejora tu plan para publicar m\xe1s y mejores ofertas."}),(0,r.jsx)(l.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,r.jsx)(y(),{href:"/subscriptions",children:"Administrar Suscripci\xf3n"})})]}),(0,r.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"M\xe9todo de Pago"}),A?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-2 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 text-green-400 mb-2"}),(0,r.jsx)("p",{className:"font-semibold text-green-300",children:"\xa1Mercado Pago Conectado!"}),(0,r.jsx)(l.$,{variant:"link",size:"sm",className:"mt-1 text-xs text-muted-foreground h-auto p-0",onClick:()=>I(!1),children:"Desconectar"})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C.J,{htmlFor:"mp-token",children:"Access Token de Mercado Pago"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(k.p,{id:"mp-token",type:"password",placeholder:"APP_USR-...",className:"pl-10"})]}),(0,r.jsxs)(l.$,{onClick:()=>{N({title:"Conexi\xf3n Simulada",description:"Tu Access Token ha sido guardado (simulado)."}),I(!0)},className:"w-full",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Conectar Mercado Pago"]})]})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Candidatos Recientes"}),(0,r.jsx)(n.BT,{children:"\xdaltimos usuarios que aplicaron a tus ofertas."})]}),(0,r.jsxs)(n.Wu,{className:"space-y-1",children:[V.map(e=>(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 py-2 hover:bg-secondary/50 rounded-md px-2 -mx-2",children:[(0,r.jsxs)(P.eu,{children:[(0,r.jsx)(P.BK,{src:e.avatar,"data-ai-hint":"person user"}),(0,r.jsx)(P.q5,{children:e.name.charAt(0)})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Aplic\xf3 a: ",e.appliedFor]})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:()=>el(e),children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Ver Perfil"})]}),(0,r.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:et,children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Contactar"})]})]})]}),(0,r.jsx)(S.w,{className:"last:hidden"})]},e.id)),(0,r.jsx)(l.$,{variant:"secondary",className:"w-full mt-2",children:"Ver todos los candidatos"})]})]})})]})]})]}):(0,r.jsx)("div",{className:"text-center py-12",children:"Acceso denegado. Esta secci\xf3n es solo para empresas."}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(o.A,{className:"h-8 w-8 animate-spin"})})}},71313:(e,s,a)=>{Promise.resolve().then(a.bind(a,11645)),Promise.resolve().then(a.bind(a,36996)),Promise.resolve().then(a.bind(a,92262))},99188:(e,s,a)=>{"use strict";a.d(s,{M:()=>x,o:()=>u});var r=a(95155),i=a(12115),n=a(61677),l=a(34477);let t=(0,l.createServerReference)("4056f7b8ce25ab41c256e4297c785ce32b486f54d6",l.callServer,void 0,l.findSourceMapURL,"getUserById");var c=a(85782);let d=(0,l.createServerReference)("404cea0460b7222e73e2c9faf3a550886a2074e1d3",l.callServer,void 0,l.findSourceMapURL,"getApplicationsByUserId"),o=(0,l.createServerReference)("402908ca951243cf828f191b1709c1a7f71fb56cc5",l.callServer,void 0,l.findSourceMapURL,"createApplication"),m=(0,l.createServerReference)("408c8a95a7fd45225172ff2ade2b52568d20453c25",l.callServer,void 0,l.findSourceMapURL,"getJobById"),x=(0,i.createContext)({profileData:null,setProfileData:()=>{},savedJobs:[],handleSaveJob:()=>{},handleApplyForJob:()=>{},applications:[],hasActiveSubscription:!1,activePlan:null,subscriptionEndDate:null}),u=e=>{let{children:s}=e,{session:a}=(0,n.w)(),[l,u]=(0,i.useState)(null),[h,p]=(0,i.useState)([]),[j,f]=(0,i.useState)([]),[g,b]=(0,i.useState)(!1),[v,N]=(0,i.useState)(null),[y,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{if(a.isLoggedIn&&a.user)try{let e=await t(a.user.id);if(e){u(e);let s=(e.savedJobIds||[]).map(e=>m(e)),r=(await Promise.all(s)).filter(e=>null!==e);p(r);let i=await d(a.user.id);if(f(i),e.subscriptionPlan&&e.subscriptionUntil){let s=new Date(e.subscriptionUntil);s>new Date?(b(!0),N(e.subscriptionPlan),w(s.toLocaleDateString("es-AR",{year:"numeric",month:"long",day:"numeric"}))):(b(!1),N(null),w(null))}else b(!1),N(null),w(null)}}catch(e){console.error("Failed to fetch user profile",e),u(null),p([]),f([])}else u(null),p([]),f([]),b(!1),N(null),w(null)})()},[a.isLoggedIn,a.user]);let A=(0,i.useCallback)(async e=>{if(!l)return;let s=Array.isArray(l.savedJobIds)?l.savedJobIds:[],a=s.includes(e.id)?s.filter(s=>s!==e.id):[...s,e.id],r=await (0,c.T)(l.id,{savedJobIds:a});if(r){u(r);let e=a.map(e=>m(e));p((await Promise.all(e)).filter(e=>null!==e))}},[l]),P=(0,i.useCallback)(async(e,s)=>{if(l&&!j.some(s=>s.jobId===e.id))try{let a=await o({userId:l.id,jobId:e.id,customAnswers:s||[]});a&&f(e=>[...e,a])}catch(e){console.error("Failed to create application",e)}},[l,j]);return(0,r.jsx)(x.Provider,{value:{profileData:l,setProfileData:u,savedJobs:h,handleSaveJob:A,handleApplyForJob:P,applications:j,hasActiveSubscription:g,activePlan:v,subscriptionEndDate:y},children:s})}}},e=>{var s=s=>e(e.s=s);e.O(0,[338,925,869,342,639,434,944,781,603,198,441,684,358],()=>s(71313)),_N_E=e.O()}]);